---
layout: post
title: Internet Explorer Puts map Tag inside head Tag
date: 2007-10-17 17:08:29.000000000 +02:00
categories:
- Bugs
tags: []
status: publish
type: post
published: true
meta: {}
author:
  login: zeljko.filipin
  email: zeljko.filipin@gmail.com
  display_name: "Željko Filipin"
  first_name: "Željko"
  last_name: Filipin
---
<p>I have ported <em>Support for XPATH in Watir</em> by <a href="http://angrez.blogspot.com/">Angrez Singh</a> to wiki format. Take a look: <a href="http://wiki.openqa.org/display/WTR/XPath+Support">XPath Support</a>.</p>
<p>I was trying example from <em>What to do for elements not having class in Watir</em> section and for this HTML:</p>
<p>[source:html]</p>
<map name="chart">
<area shape="poly" coords="150,16,159,17,168,20,175,25,182,32,150,56,150,56" />
<area shape="poly" coords="182,32,188,43,190,56,150,56,150,56" ref="PieChart.html?category=Critical&pieIndex=0" />
</map>
<p>[/source]</p>
<p>Watir always returned <em>nil</em>:</p>
<p>[source:ruby]<br />
ie.element_by_xpath("//area[contains(@href , 'PieChart.html')]/")<br />
# => nil<br />
[/source]</p>
<p>I asked Angrez am I doing something wrong and he replied to check if generated HTML (that is rendered in the browser) is the same as source HTML.</p>
<p>Brilliant!</p>
<p>There seems to be a bug in Internet Explorer 7 (IE). If you create HTML file with above HTML (only that code, do not add anything else) IE puts <em>map</em> tag inside <em>head</em> tag.</p>
<p><img src="/assets/ie.PNG" alt="ie.PNG" /></p>
<p>Firefox 2 puts it inside <em>body</em> tag, of course.</p>
<p><img src="/assets/ff.PNG" alt="ff.PNG" /></p>
<p>The workaround is to put <em>map</em> tag explicitly inside <em>bod</em>y tag.</p>
